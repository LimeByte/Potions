<!doctype html>
<html lang="en">
	<head>
		<!-- Metadata -->
		<meta charset="utf-8">
		<title>Potion List</title>
		<meta name="description" content="A list of potions and there data values">
		<meta name="author" content="LimeByte">
		
		<!-- Styles -->
		<link href="assets/css/bootstrap.min.css" rel="stylesheet">
		<link href="assets/css/style.css" rel="stylesheet">
		
		<!-- HTML5 shim -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	
	<body>
			<!-- Header -->
			<header id="main-header" class="navbar navbar-inverse navbar-fixed-top">
				<section class="navbar-inner">
					<section class="container">
						<a class="brand" href="#">Potions</a>
						<form id="search" class="navbar-form pull-right">
							<i class="icon-search icon-white"></i>
							<input type="search" name="potion-search" placeholder="Search"/>
						</form>
					</section>
				</section>
			</header>
		
			<section class="container">
				<!-- Main Body -->
				<section id="body">
					<table id="potion-table" class="table table-bordered">
						<thead>
							<tr>
								<th></th>
								<th>ID</th>
								<th>Potion</th>
								<th>Duration</th>
							</tr>
						</thead>
					</table>
				</section>
				
				<!-- Sidebar -->
				<aside id="main-sidebar">
				</aside>
				
				<!-- Footer -->
				<footer id="main-footer">
				</footer>
			</section>
		
		<!-- Javascript -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/bootstrap.min.js"></script>
		
		<!-- Potion Loader -->
		<script>
			function log(msg) {
				console.log('[Potions] ' + msg);
			}
		
			function getValue(file, value) {
				return $(file).find(value).text();
			}
		
			function addPotion(name, icon, id, duration) {
				$('<tr></tr>').html(
				    '<td><img src="assets/img/potions/'+icon+'.png" /></td>'
				  + '<td>' + id + '</td>'
				  + '<td>' + name + '</td>'
				  + '<td>' + duration + '</td>')
				  .appendTo('#potion-table');
				log('Added ' + name + ' (' + duration + ').');
			}
		
			$(document).ready(function() {
				log('Adding potions...');
				$('#potion-table').hide();
				$.ajax({
					type: "GET",
					url: "assets/xml/potions.xml", 
					dataType: "xml",
					success: function(xml) {	
						$(xml).find('potion').each(function(){	
							addPotion(getValue(this, 'name'),
									  getValue(this, 'icon'),
									  getValue(this, 'id'),
									  getValue(this, 'duration'));
						});
						log('Done!');
						$(this).show("slow");
					}
				});
			});
		</script>
	</body>
</html>